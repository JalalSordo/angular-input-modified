!function(e,i){"use strict";function o(){return{restrict:"A",controller:function(){}}}i.module("ngInputModified",[]).directive("bsModifiable",o)}(window,angular),function(e,i){"use strict";function o(){var e={enabledGlobally:!0,modifiedClassName:"ng-modified",notModifiedClassName:"ng-not-modified"};return{enableGlobally:function(){return e.enabledGlobally=!0,this},disableGlobally:function(){return e.enabledGlobally=!1,this},setModifiedClassName:function(i){return e.modifiedClassName=String(i),this},setNotModifiedClassName:function(i){return e.notModifiedClassName=String(i),this},$get:function(){return e}}}i.module("ngInputModified").provider("inputModifiedConfig",o)}(window,angular),function(e,i){"use strict";function o(e,i,o){var t=i;return{name:"form",restrict:o?"EAC":"E",require:["?form","?^form"],link:function(i,o,l,a){function r(){d(m,function(e){n(e)&&e.reset()})}function s(e){var i=m.modifiedModels.indexOf(e),o=-1!==i;e.modified&&!o?(m.modifiedModels.push(e),m.modifiedCount++):!e.modified&&o&&(m.modifiedModels.splice(i,1),m.modifiedCount--),m.modified=m.modifiedCount>0,f()}function f(){e.addClass(o,m.modified?t.modifiedClassName:t.notModifiedClassName),e.removeClass(o,m.modified?t.notModifiedClassName:t.modifiedClassName)}var m=a[0];m&&(m.modified=!1,m.modifiedCount=0,m.modifiedModels=[],m.modifiedChildFormsCount=0,m.modifiedChildForms=[],m.reset=r,m.$$notifyModelModifiedStateChanged=s)}}}function t(e){return"object"==typeof e&&"$modelValue"in e}function n(e){return"modified"in e}function d(e,o){i.forEach(e,function(e){t(e)&&o(e)})}i.module("ngInputModified").directive("form",["$animate","inputModifiedConfig",function(e,i){return o(e,i,!1)}]).directive("ngForm",["$animate","inputModifiedConfig",function(e,i){return o(e,i,!0)}])}(window,angular),function(window,angular){"use strict";function ngModelModifiedFactory($animate,inputModifiedConfig){var config=inputModifiedConfig;return{restrict:"A",require:["?ngModel","?^form","?^bsModifiable"],link:function($scope,$element,attrs,controllers){function onInputValueChanged(){initializeMasterValue();var e=!compare(modelCtrl.$modelValue,modelCtrl.masterValue);modelCtrl.modified!==e&&(modelCtrl.modified=e,formCtrl.$$notifyModelModifiedStateChanged(modelCtrl),updateCssClasses())}function initializeMasterValue(){masterValueIsSet||(modelCtrl.masterValue=modelCtrl.$modelValue,updateCssClasses(),masterValueIsSet=!0)}function updateCssClasses(){$animate.addClass($element,modelCtrl.modified?config.modifiedClassName:config.notModifiedClassName),$animate.removeClass($element,modelCtrl.modified?config.notModifiedClassName:config.modifiedClassName)}function setPristine(){originalSetPristine.apply(this,arguments),setMasterValue(modelCtrl.$modelValue)}function setMasterValue(e){modelCtrl.masterValue=e,modelCtrl.modified=!1,formCtrl.$$notifyModelModifiedStateChanged(modelCtrl),updateCssClasses()}function reset(){try{eval("$scope."+modelPath+" = modelCtrl.masterValue;")}catch(exception){}}var modelPath=attrs.ngModel,modelCtrl=controllers[0],formCtrl=controllers[1],bsModifiable=controllers[2];if(modelCtrl&&(config.enabledGlobally||bsModifiable)){var masterValueIsSet=!1,originalSetPristine=modelCtrl.$setPristine;modelCtrl.$setPristine=setPristine,modelCtrl.modified=!1,modelCtrl.masterValue=void 0,modelCtrl.reset=reset,$scope.$watch(modelPath,onInputValueChanged)}}}}function compare(e,i){return e=normalizeValue(e),i=normalizeValue(i),"object"==typeof e&&"object"==typeof i?e instanceof Date&&i instanceof Date?e.getTime()===i.getTime():angular.equals(e,i):e==i}function normalizeValue(e){return void 0===e||""===e?null:e}angular.module("ngInputModified").directive("ngModel",ngModelModifiedFactory),ngModelModifiedFactory.$inject=["$animate","inputModifiedConfig"]}(window,angular);